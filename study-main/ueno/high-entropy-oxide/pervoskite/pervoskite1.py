import random
import os

# 出力先ディレクトリ
output_directory = "output_structures"

# ディレクトリが存在しない場合は作成
if not os.path.exists(output_directory):
    os.makedirs(output_directory)

# 生成する構造の数
num_structures = 1
# 元の座標データ
coordinates = [
    [0.0000000000000000, 0.7077206100000000, 0.0383392800000000],
    [0.5000000000000000, 0.7922793900000000, 0.5383392800000000],
    [0.0000000000000000, 0.5513708099999998, 0.4708672100000000],
    [0.5000000000000000, 0.9486291900000002, 0.9708672100000000],
    [0.5000000000000000, 0.2077206100000000, 0.0383392800000000],
    [0.0000000000000000, 0.2922793900000000, 0.5383392800000000],
    [0.5000000000000000, 0.0513708099999999, 0.4708672100000000],
    [0.0000000000000000, 0.4486291900000001, 0.9708672100000000]
]

# 座標をランダムに並び替え
random.shuffle(coordinates)

# POSCARファイルとして出力
def write_poscar(filename, coordinates):
    with open(filename, 'w') as f:
        f.write("Ca2 Sr2 Ba2 Pb2 Nb8 O28\n")
        f.write("1.0\n")
        f.write("   3.9920020400000000    0.0000000000000000    0.0000000000000002\n")
        f.write("   0.0000000000000043   27.0023696599999994    0.0000000000000017\n")
        f.write("   0.0000000000000000    0.0000000000000000    5.7655778299999998\n")
        f.write("Ca Sr Ba Pb Nb O\n")
        f.write("2 2 2 2 8 28\n")
        f.write("direct\n")
        for coord in coordinates:
            f.write(f"   {coord[0]:.16f}    {coord[1]:.16f}    {coord[2]:.16f}\n")
            
        f.write("0.5000000000000000    0.6618102600000000    0.5026311200000000\n")
        f.write("0.0000000000000000    0.8381897400000000    0.0026311200000000\n")
        f.write("0.0000000000000000    0.9417653000000000    0.4711439000000000\n")
        f.write("0.5000000000000000    0.5582347000000000    0.9711438999999999\n")
        f.write("0.0000000000000000    0.1618102600000000    0.5026311200000000\n")
        f.write("0.5000000000000000    0.3381897400000000    0.0026311200000000\n")
        f.write("0.5000000000000000    0.4417653000000001    0.4711439000000000\n")
        f.write("0.0000000000000000    0.0582346999999999    0.9711438999999999\n")
        f.write("   0.0000000000000000    0.5483390899999998    0.9433431700000000\n")
        f.write("   0.5000000000000000    0.9516609100000002    0.4433431699999999\n")
        f.write("0.5000000000000000    0.5920950599999999    0.6633528300000000\n")
        f.write("0.0000000000000000    0.9079049400000001    0.1633528300000000\n")
        f.write("0.5000000000000000    0.6998536500000000    0.7677405600000000\n")
        f.write("0.0000000000000000    0.8001463500000000    0.2677405600000000\n")
        f.write("0.0000000000000000    0.7846804699999999    0.7908146900000000\n")
        f.write("0.5000000000000000    0.7153195300000001    0.2908146899999999\n")
        f.write("0.5000000000000000    0.5082473199999998    0.2227941800000000\n")
        f.write("0.0000000000000000    0.9917526800000002    0.7227941800000000\n")
        f.write("0.5000000000000000    0.6116301099999999    0.1725682600000000\n")
        f.write("0.0000000000000000    0.8883698900000001    0.6725682600000000\n")
        f.write("0.0000000000000000    0.6506477299999999    0.4665248000000000\n")
        f.write("0.5000000000000000    0.8493522700000001    0.9665248000000000\n")
        f.write("0.5000000000000000    0.0483390899999998    0.9433431700000000\n")
        f.write("0.0000000000000000    0.4516609100000002    0.4433431699999999\n")
        f.write("0.0000000000000000    0.0920950599999999    0.6633528300000000\n")
        f.write("0.5000000000000000    0.4079049400000001    0.1633528300000000\n")
        f.write("0.0000000000000000    0.1998536500000001    0.7677405600000000\n")
        f.write("0.5000000000000000    0.3001463499999999    0.2677405600000000\n")
        f.write("0.5000000000000000    0.2846804699999999    0.7908146900000000\n")
        f.write("0.0000000000000000    0.2153195300000001    0.2908146899999999\n")
        f.write("0.0000000000000000    0.0082473199999997    0.2227941800000000\n")
        f.write("0.5000000000000000    0.4917526800000003    0.7227941800000000\n")
        f.write("0.0000000000000000    0.1116301099999999    0.1725682600000000\n")
        f.write("0.5000000000000000    0.3883698900000001    0.6725682600000000\n")
        f.write("0.5000000000000000    0.1506477299999998    0.4665248000000000\n")
        f.write("0.0000000000000000    0.3493522700000002    0.9665248000000000\n")

        

# POSCARファイルに書き込む
write_poscar('POSCAR', coordinates)